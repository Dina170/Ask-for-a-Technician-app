<!DOCTYPE html>
<html lang="ar" dir="rtl" class="font-[Cairo]">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title><%= post.title || post.name %></title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
      body, p, span, h1, h2, h3, h4, h5, h6, a, button, input, textarea, label, div {
        font-family: "Cairo", sans-serif !important;
      }
    </style>
  </head>

  <body class="m-0 p-0 flex flex-col min-h-screen ">
    <!-- header -->
    <%- include("../layouts/header") %>

    <!-- Breadcrumb -->
    <div class="mt-5 sm:mb-5 lg:mb-10 px-4 sm:px-8 lg:px-32 shadow-sm">
      <div class="max-w-8xl mx-auto flex items-center flex-wrap text-sm sm:text-base py-3">
        <a href="/" class="text-[#2A4759] hover:text-[#406A84]">
          <i class="fa-solid fa-home text-lg sm:text-2xl ml-2 sm:ml-3"></i>
        </a>
        <i class="fa-solid fa-chevron-left mx-2 text-gray-400"></i>
        <a href="/blogs/<%= post.blog.slug || post.blog._id %>"
           class="font-semibold text-gray-600 hover:text-[#2A4759]">
          <%= post.blog.blog %>
        </a>
        <i class="fa-solid fa-chevron-left mx-2 text-gray-400"></i>
        <span class="font-semibold text-[#B3AFAF] truncate max-w-[180px] sm:max-w-none">
          <%= post.name %>
        </span>
      </div>
    </div>

    <!-- Main Content -->
    <main class="px-4 sm:px-8 lg:px-32 mt-5 flex-grow max-w-8xl mx-auto">
      <!-- عنوان المقال -->
      <h1 class="text-[#222222] text-2xl sm:text-3xl md:text-[32px] font-bold mb-4 sm:mb-6 leading-relaxed text-right">
        <%= post.name %>
      </h1>

      <!-- صورة المقال -->
      <% if (post.image) { %>
      <div class="mb-6 sm:mb-8">
        <img
          src="/uploads/posts/<%= post.image %>"
          alt="<%= post.title || post.name %>"
          class="rounded-xl w-full max-h-[400px] object-cover shadow-lg"
        />
      </div>
      <% } %>

      <!-- محتوى المقال -->
      <article class="description-text prose prose-sm sm:prose-lg max-w-none text-gray-700 leading-relaxed text-right">
        <%- post.content %>
      </article>
    </main>

    <!-- footer -->
    <%- include("../layouts/footer") %>

    <!-- Extra Styles -->
    <style>
      .prose h1,
      .prose h2,
      .prose h3 {
        color: #2A4759;
        font-weight: bold;
        margin-top: 1.5rem;
        margin-bottom: 1rem;
      }
      .prose p {
        margin-bottom: 1rem;
        line-height: 1.8;
        text-align: justify;
      }
      .prose img {
        border-radius: 0.5rem;
        margin: 1.5rem auto;
        max-width: 100%;
        height: auto;
      }
      .description-text {
        word-wrap: break-word !important;
        word-break: break-word !important;
        overflow-wrap: break-word !important;
        hyphens: auto;
        max-width: 100% !important;
        overflow: hidden;
      }
    </style>
  </body>
</html>
